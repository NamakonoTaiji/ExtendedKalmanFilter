PackandFilterRefactor, RadarListRefactor, KalmanFilterRefactor の各スクリプトはリファクタリングされ、可読性と機能性が向上した。
データ圧縮/展開、遅延Tick管理、座標変換ロジックが新しい実装に合わせて更新された。
EKFは遅延フラグを考慮した dt 計算、適応的プロセスノイズ、最新の座標変換ロジックを使用する。
**敵対判定ロジックが追加され、条件を満たす目標に対してオンオフ信号が出力されるようになった。**
**出力順序が targetId の昇順 (検出順) に固定され、チャンネルと目標の対応が安定した。**
**課題:**
EKFパラメータ (特にノイズ関連、D_ASSOC など) や目標管理パラメータ (TIMEOUT, TGT_LEAVING) は、実際の運用環境に合わせてさらなる調整・最適化が必要となる可能性がある。
**敵対判定パラメータ (HOSTILE_CLOSING_SPEED_THRESHOLD など) は、目標の種類や交戦シナリオに応じて調整が必要となる可能性がある。**
**現在の敵対判定は、一度 true になるとリセットされない。もし条件を満たさなくなった場合に非敵対に戻す必要がある場合は、ロジックの変更が必要。**
座標変換におけるレーダーの設置高さオフセットの扱いについて、現在の KalmanFilterRefactor.lua では明示的な処理が見られないため、物理センサーの設置位置と physicsSensorData.y の値が精度に影響する。必要に応じて localToGlobalCoords 関数等でのオフセット処理の追加を検討する必要がある。
**データアソシエーション**は最近傍法であり、目標が交差する場合などに誤割り当てが発生する可能性がある。